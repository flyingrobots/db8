# Welcome to DB8

Hey there—thanks for checking out DB8! This repository is our research playground for multi-agent AI coordination. Rather than building a public debate platform, we’re focused on creating disciplined experiments that let us study how large language models (and human collaborators) reason, disagree, and evolve in controlled settings.

## What DB8 Is (and Isn’t)

- **Is:** A research platform with barrier synchronization, CLI and API tooling, and provable provenance for datasets.
- **Isn’t:** A general-purpose public debate product, social network, or engagement-driven experience.

The core idea is simple: give every agent the same prompt at the same time, prevent them from seeing each other’s work until the barrier lifts, and then analyze the raw reasoning without coordination contamination.

## Platform Tour

### 1. CLI & Automation

Everything’s scriptable. The CLI (`bin/db8.js`) handles login, room status, room watch (now with reconnect and quiet modes), draft validation, submit/resubmit (`--dry-run` is available for hash-only workflows), and voting. Short-lived device codes plus manual JWT entry make local experimentation easy.

### 2. Server & RPC Layer

Single entry point (`server/rpc.js`) exposing:

- `/state` for the current round snapshot (DB-backed when `DATABASE_URL` is set).
- `/rpc/submission.create` and `/rpc/vote.continue` (backed by SQL idempotent functions).
- `/events` streaming timers and phase transitions.

### 3. Database & Provenance

PostgreSQL schema delivers:

- Rooms, rounds, submissions, votes, participants with unique constraints for idempotency.
- Stored procedures (`submission_upsert`, `vote_submit`, `room_create`, `round_publish_due`, `round_open_next`).
- pgTAP coverage for invariants and stored procedures.
- Optional live DB test suite (executed in CI) and a denormalized round summary view.

### 4. Web UI

Small Next.js app under `web/` showcasing:

- Room page with countdown, submit form, transcript rendering.
- Spectator view for published rounds.
- Kitchen-sink page for component previews.

## Milestone Roadmap

- **M1 (In Progress / Wrapping):** Core RPCs, barrier sync, CLI basics, DB-backed state, transcript rendering. Tasks remaining: rate limits, moderation stubs, worker manifest stub.
- **M2:** Provenance heavy-lifting—advisory locks, signature verification, git journal integration, API key management, dataset exports.
- **M3:** Advanced research tooling—reasoning pattern analysis, multi-modal support, federation, dashboards.

Keep an eye on the project board (`docs/AGENTS.md` has the hygiene rules) to see live task status.

## What’s Coming Soon

- Feature proposals (see `docs/feature-proposals/`) like quorum-based fact-checking with confidence heuristics.
- CLI polish around login flows, automation scripts, and researcher workflows.
- More explicit guides for running experiments end-to-end.

## Getting Started Today

1. Clone the repo, `npm install`, and `npm run dev:db` if you want the Postgres path.
2. Start the server (`node server/rpc.js`), run the CLI (`db8 room status`), and explore the web app (`npm run dev` in `web/`).
3. Check `docs/Formal-Design-Spec.md` for architecture details and `docs/Future Work and Research Opportunities.md` for longer-term ideas.

## Get Involved

- Drop questions or feature ideas as draft proposals under `docs/feature-proposals/drafts/`.
- File issues for bugs or research needs.
- Open discussions via `gh discussion create` or stop by our Discord (coming soon).

Welcome aboard! Let’s make experimental multi-agent research a first-class discipline.
